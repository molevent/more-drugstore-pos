# üì∏ ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Storage ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤

## ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ

‡∏´‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤ Storage Bucket ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤

---

## ‚úÖ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç (‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤ 3 ‡∏ô‡∏≤‡∏ó‡∏µ)

### **‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á Storage Bucket**

1. **‡πÄ‡∏õ‡∏¥‡∏î Supabase Dashboard**
   - ‡πÑ‡∏õ‡∏ó‡∏µ‡πà: https://supabase.com/dashboard
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Project ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì

2. **‡πÑ‡∏õ‡∏ó‡∏µ‡πà Storage**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏°‡∏ô‡∏π **Storage** ‡∏ó‡∏≤‡∏á‡∏ã‡πâ‡∏≤‡∏¢‡∏°‡∏∑‡∏≠
   - ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Storage buckets

3. **‡∏™‡∏£‡πâ‡∏≤‡∏á Bucket ‡πÉ‡∏´‡∏°‡πà**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° **New bucket** (‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß)
   - ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
     - **Name**: `products` (‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏µ‡πâ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)
     - **Public bucket**: ‚úÖ **‡πÄ‡∏•‡∏∑‡∏≠‡∏Å** (‡∏ï‡∏¥‡πä‡∏Å‡∏ñ‡∏π‡∏Å)
     - **File size limit**: ‡πÉ‡∏™‡πà `5` MB (‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)
     - **Allowed MIME types**: ‡πÉ‡∏™‡πà `image/*` (‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏ó‡∏∏‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ)
   - ‡∏Ñ‡∏•‡∏¥‡∏Å **Create bucket**

4. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö**
   - ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô bucket ‡∏ä‡∏∑‡πà‡∏≠ `products` ‡πÉ‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
   - ‡∏°‡∏µ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô üåê (globe) ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô public

---

### **‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Policies (‡∏á‡πà‡∏≤‡∏¢‡∏°‡∏≤‡∏Å)**

#### **‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡πÉ‡∏ä‡πâ UI (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ - ‡∏á‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)**

1. **‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà bucket `products`**
2. **‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πá‡∏ö Policies**
3. **‡∏Ñ‡∏•‡∏¥‡∏Å New Policy**
4. **‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Template: "Allow public read access"**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å **Use this template**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å **Review** ‚Üí **Save policy**

5. **‡∏™‡∏£‡πâ‡∏≤‡∏á Policy ‡∏ó‡∏µ‡πà 2 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Upload**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å **New Policy** ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **For full customization**
   - ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤:
     - **Policy name**: `Allow authenticated uploads`
     - **Policy definition**: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **INSERT**
     - **Target roles**: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **authenticated**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å **Review** ‚Üí **Save policy**

6. **‡∏™‡∏£‡πâ‡∏≤‡∏á Policy ‡∏ó‡∏µ‡πà 3 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Update**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å **New Policy** ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **For full customization**
   - ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤:
     - **Policy name**: `Allow authenticated updates`
     - **Policy definition**: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **UPDATE**
     - **Target roles**: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **authenticated**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å **Review** ‚Üí **Save policy**

#### **‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡πÉ‡∏ä‡πâ SQL (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ô‡∏ä‡∏≠‡∏ö code)**

1. **‡πÑ‡∏õ‡∏ó‡∏µ‡πà SQL Editor**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏°‡∏ô‡∏π **SQL Editor**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å **New query**

2. **Copy SQL ‡∏ô‡∏µ‡πâ:**
   ```sql
   -- Allow public read access
   CREATE POLICY "Public read access"
   ON storage.objects FOR SELECT
   TO public
   USING (bucket_id = 'products');

   -- Allow authenticated uploads
   CREATE POLICY "Allow authenticated uploads"
   ON storage.objects FOR INSERT
   TO authenticated
   WITH CHECK (bucket_id = 'products');

   -- Allow authenticated updates
   CREATE POLICY "Allow authenticated updates"
   ON storage.objects FOR UPDATE
   TO authenticated
   USING (bucket_id = 'products');

   -- Allow authenticated deletes
   CREATE POLICY "Allow authenticated deletes"
   ON storage.objects FOR DELETE
   TO authenticated
   USING (bucket_id = 'products');
   ```

3. **‡∏Ñ‡∏•‡∏¥‡∏Å RUN**

---

### **‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö**

1. **Refresh ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡πÅ‡∏≠‡∏õ**
   - ‡∏Å‡∏î F5 ‡∏´‡∏£‡∏∑‡∏≠ Refresh browser

2. **‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤" ‡∏´‡∏£‡∏∑‡∏≠ "‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç"

3. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å "‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û"
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ (jpg, png, webp)
   - ‡∏î‡∏π preview
   - ‡∏Å‡∏î "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å"

4. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö**
   - ‚úÖ ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô preview
   - ‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
   - ‚úÖ ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤

---

## üîç ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

### **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Bucket**
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Storage
2. ‡πÄ‡∏´‡πá‡∏ô bucket `products` ‚úÖ
3. ‡∏°‡∏µ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô üåê (public) ‚úÖ

### **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Policies**
1. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà bucket `products`
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πá‡∏ö **Policies**
3. ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 2 policies:
   - ‚úÖ Public read access
   - ‚úÖ Allow authenticated uploads

---

## ‚ùó ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 1: "Error: Bucket not found"
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á bucket
**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:** ‡∏ó‡∏≥‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1 ‡πÉ‡∏´‡∏°‡πà

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 2: "Error: Permission denied"
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** Policies ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:** ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ policies ‡∏Ñ‡∏£‡∏ö ‡πÅ‡∏•‡∏∞ bucket ‡πÄ‡∏õ‡πá‡∏ô public

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 3: "Error: File too large"
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏Å‡∏¥‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î
**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:** 
- ‡∏•‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡∏£‡∏π‡∏õ (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ < 2MB)
- ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° file size limit ‡πÉ‡∏ô bucket settings

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 4: ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏î‡πâ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏£‡∏π‡∏õ
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** Bucket ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô public
**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Storage ‚Üí ‡∏Ñ‡∏•‡∏¥‡∏Å bucket `products`
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **Settings** (‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô)
3. ‡πÄ‡∏õ‡∏¥‡∏î **Public bucket** ‚úÖ
4. ‡∏Ñ‡∏•‡∏¥‡∏Å **Save**

---

## üìã Checklist

‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏î‡∏™‡∏≠‡∏ö ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤:

- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á bucket ‡∏ä‡∏∑‡πà‡∏≠ `products` ‡πÅ‡∏•‡πâ‡∏ß
- [ ] Bucket ‡πÄ‡∏õ‡πá‡∏ô **Public** (‡∏°‡∏µ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô üåê)
- [ ] ‡∏°‡∏µ Policy ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö **read** (public)
- [ ] ‡∏°‡∏µ Policy ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö **insert** (authenticated)
- [ ] ‡∏°‡∏µ Policy ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö **update** (authenticated)
- [ ] Refresh ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡πÅ‡∏•‡πâ‡∏ß
- [ ] Login ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡πâ‡∏ß

---

## üéâ ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!

‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ:
- ‚úÖ ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ
- ‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÑ‡∏î‡πâ
- ‚úÖ ‡πÄ‡∏´‡πá‡∏ô preview ‡∏Å‡πà‡∏≠‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
- ‚úÖ ‡∏£‡∏π‡∏õ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤

**‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‡∏ö‡∏≠‡∏Å‡∏ú‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö!** üí™
