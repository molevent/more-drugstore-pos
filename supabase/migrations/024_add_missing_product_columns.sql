-- Migration: Add missing extended product columns
-- These columns are used in the product form but were not in the initial schema

ALTER TABLE public.products
ADD COLUMN IF NOT EXISTS description_th TEXT,
ADD COLUMN IF NOT EXISTS description_en TEXT,
ADD COLUMN IF NOT EXISTS indications TEXT,
ADD COLUMN IF NOT EXISTS usage_instructions TEXT,
ADD COLUMN IF NOT EXISTS active_ingredient TEXT,
ADD COLUMN IF NOT EXISTS internal_notes TEXT,
ADD COLUMN IF NOT EXISTS tags TEXT[],
ADD COLUMN IF NOT EXISTS weight_grams DECIMAL(10, 2),
ADD COLUMN IF NOT EXISTS width_cm DECIMAL(5, 2),
ADD COLUMN IF NOT EXISTS length_cm DECIMAL(5, 2),
ADD COLUMN IF NOT EXISTS height_cm DECIMAL(5, 2),
ADD COLUMN IF NOT EXISTS expiry_date DATE,
ADD COLUMN IF NOT EXISTS lot_number VARCHAR(100),
ADD COLUMN IF NOT EXISTS packaging_size VARCHAR(100),
ADD COLUMN IF NOT EXISTS opening_stock_date DATE,
ADD COLUMN IF NOT EXISTS purchase_price_excl_vat DECIMAL(10, 2),
ADD COLUMN IF NOT EXISTS cost_per_unit DECIMAL(10, 2),
ADD COLUMN IF NOT EXISTS selling_price_excl_vat DECIMAL(10, 2),
ADD COLUMN IF NOT EXISTS selling_price_incl_vat DECIMAL(10, 2),
ADD COLUMN IF NOT EXISTS original_price DECIMAL(10, 2),
ADD COLUMN IF NOT EXISTS wholesale_price DECIMAL(10, 2),
ADD COLUMN IF NOT EXISTS product_type VARCHAR(50) DEFAULT 'finished_goods',
ADD COLUMN IF NOT EXISTS brand VARCHAR(100),
ADD COLUMN IF NOT EXISTS stock_tracking_type VARCHAR(20) DEFAULT 'tracked',
ADD COLUMN IF NOT EXISTS image_urls TEXT[],
ADD COLUMN IF NOT EXISTS sell_on_pos BOOLEAN DEFAULT true,
ADD COLUMN IF NOT EXISTS sell_on_grab BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS sell_on_lineman BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS sell_on_lazada BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS sell_on_shopee BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS sell_on_line_shopping BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS sell_on_tiktok BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS sell_on_consignment BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS sell_on_website BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS price_pos DECIMAL(10, 2),
ADD COLUMN IF NOT EXISTS price_grab DECIMAL(10, 2),
ADD COLUMN IF NOT EXISTS price_lineman DECIMAL(10, 2),
ADD COLUMN IF NOT EXISTS price_lazada DECIMAL(10, 2),
ADD COLUMN IF NOT EXISTS price_shopee DECIMAL(10, 2),
ADD COLUMN IF NOT EXISTS price_line_shopping DECIMAL(10, 2),
ADD COLUMN IF NOT EXISTS price_tiktok DECIMAL(10, 2),
ADD COLUMN IF NOT EXISTS price_consignment DECIMAL(10, 2),
ADD COLUMN IF NOT EXISTS price_website DECIMAL(10, 2),
ADD COLUMN IF NOT EXISTS url_pos TEXT,
ADD COLUMN IF NOT EXISTS url_grab TEXT,
ADD COLUMN IF NOT EXISTS url_lineman TEXT,
ADD COLUMN IF NOT EXISTS url_lazada TEXT,
ADD COLUMN IF NOT EXISTS url_shopee TEXT,
ADD COLUMN IF NOT EXISTS url_line_shopping TEXT,
ADD COLUMN IF NOT EXISTS url_tiktok TEXT,
ADD COLUMN IF NOT EXISTS url_consignment TEXT,
ADD COLUMN IF NOT EXISTS url_website TEXT,
ADD COLUMN IF NOT EXISTS alert_out_of_stock BOOLEAN DEFAULT true,
ADD COLUMN IF NOT EXISTS alert_out_of_stock_message TEXT,
ADD COLUMN IF NOT EXISTS alert_low_stock BOOLEAN DEFAULT true,
ADD COLUMN IF NOT EXISTS alert_low_stock_message TEXT,
ADD COLUMN IF NOT EXISTS alert_expiry BOOLEAN DEFAULT true,
ADD COLUMN IF NOT EXISTS alert_expiry_message TEXT,
ADD COLUMN IF NOT EXISTS alert_expiry_days INTEGER DEFAULT 30,
ADD COLUMN IF NOT EXISTS alert_custom BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS alert_custom_title TEXT,
ADD COLUMN IF NOT EXISTS alert_custom_message TEXT,
ADD COLUMN IF NOT EXISTS label_dosage_instructions_th TEXT,
ADD COLUMN IF NOT EXISTS label_special_instructions_th TEXT,
ADD COLUMN IF NOT EXISTS label_dosage_instructions_en TEXT,
ADD COLUMN IF NOT EXISTS label_special_instructions_en TEXT,
ADD COLUMN IF NOT EXISTS label_custom_line1 TEXT,
ADD COLUMN IF NOT EXISTS label_custom_line2 TEXT,
ADD COLUMN IF NOT EXISTS label_custom_line3 TEXT;
